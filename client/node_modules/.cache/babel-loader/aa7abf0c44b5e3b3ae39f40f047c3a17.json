{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/santana/Desktop/my-repos/projects/gold/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/santana/Desktop/my-repos/projects/gold/client/src/Settings/Search.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n  \", \"\\n  border: 1px solid; \\n  height: 25px; \\n  color: #1163c9;\\n  place-self: center left; \\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: grid; \\n  grid-template-columns: 200px 1fr; \\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { backgroundColor2, fontSize2 } from \"../Shared/Styles\";\nimport { AppContext } from \"../App/AppProvider\";\nimport _ from 'lodash';\nimport fuzzy from 'fuzzy';\nvar SearchGrid = styled.div(_templateObject());\nvar SearchInput = styled.input(_templateObject2(), backgroundColor2, fontSize2);\n\nvar handleFilter = _.debounce(function (inputValue, coinList, setFilterCoins) {\n  // Get all the coin symbols\n  var coinSymbols = Object.keys(coinList); // Get all the coin names, map symbol to name\n\n  var coinNames = coinSymbols.map(function (sym) {\n    return coinList[sym].CoinName;\n  });\n  var allStringsToSearch = coinSymbols.concat(coinNames);\n  var fuzzyResults = fuzzy.filter(inputValue, allStringsToSearch, {}).map(function (result) {\n    return result.string;\n  });\n\n  var filteredCoins = _.pickBy(coinList, function (result, symKey) {\n    var coinName = result.CoinName;\n    return _.includes(fuzzyResults, symKey) || _.includes(fuzzyResults, coinName);\n  });\n\n  setFilterCoins(filteredCoins);\n}, 500);\n\nfunction filterCoins(e, setFilteredCoins, coinList) {\n  var inputValue = e.target.value;\n\n  if (!inputValue) {\n    setFilteredCoins(null);\n    return;\n  }\n\n  handleFilter(inputValue, coinList, setFilteredCoins);\n}\n\nexport default function () {\n  return React.createElement(AppContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, function (_ref) {\n    var setFilteredCoins = _ref.setFilteredCoins,\n        coinList = _ref.coinList;\n    return React.createElement(SearchGrid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Search all coins\"), React.createElement(SearchInput, {\n      onKeyUp: function onKeyUp(e) {\n        return filterCoins(e, setFilteredCoins, coinList);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }));\n  });\n}","map":{"version":3,"sources":["/Users/santana/Desktop/my-repos/projects/gold/client/src/Settings/Search.js"],"names":["React","styled","backgroundColor2","fontSize2","AppContext","_","fuzzy","SearchGrid","div","SearchInput","input","handleFilter","debounce","inputValue","coinList","setFilterCoins","coinSymbols","Object","keys","coinNames","map","sym","CoinName","allStringsToSearch","concat","fuzzyResults","filter","result","string","filteredCoins","pickBy","symKey","coinName","includes","filterCoins","e","setFilteredCoins","target","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,gBAAR,EAA0BC,SAA1B,QAA0C,kBAA1C;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,UAAU,GAAGN,MAAM,CAACO,GAAV,mBAAhB;AAKA,IAAMC,WAAW,GAAGR,MAAM,CAACS,KAAV,qBACbR,gBADa,EAEbC,SAFa,CAAjB;;AASA,IAAMQ,YAAY,GAAGN,CAAC,CAACO,QAAF,CAAW,UAACC,UAAD,EAAaC,QAAb,EAAuBC,cAAvB,EAA0C;AACxE;AACA,MAAIC,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYJ,QAAZ,CAAlB,CAFwE,CAGxE;;AACA,MAAIK,SAAS,GAAGH,WAAW,CAACI,GAAZ,CAAgB,UAAAC,GAAG;AAAA,WAAIP,QAAQ,CAACO,GAAD,CAAR,CAAcC,QAAlB;AAAA,GAAnB,CAAhB;AACA,MAAIC,kBAAkB,GAAGP,WAAW,CAACQ,MAAZ,CAAmBL,SAAnB,CAAzB;AACA,MAAIM,YAAY,GAAGnB,KAAK,CACrBoB,MADgB,CACTb,UADS,EACGU,kBADH,EACuB,EADvB,EAEhBH,GAFgB,CAEZ,UAAAO,MAAM;AAAA,WAAIA,MAAM,CAACC,MAAX;AAAA,GAFM,CAAnB;;AAIA,MAAIC,aAAa,GAAGxB,CAAC,CAACyB,MAAF,CAAShB,QAAT,EAAmB,UAACa,MAAD,EAASI,MAAT,EAAoB;AACzD,QAAIC,QAAQ,GAAGL,MAAM,CAACL,QAAtB;AACA,WAAQjB,CAAC,CAAC4B,QAAF,CAAWR,YAAX,EAAyBM,MAAzB,KAAoC1B,CAAC,CAAC4B,QAAF,CAAWR,YAAX,EAAyBO,QAAzB,CAA5C;AACD,GAHmB,CAApB;;AAIAjB,EAAAA,cAAc,CAACc,aAAD,CAAd;AACD,CAfoB,EAelB,GAfkB,CAArB;;AAiBA,SAASK,WAAT,CAAqBC,CAArB,EAAwBC,gBAAxB,EAA0CtB,QAA1C,EAAmD;AACjD,MAAID,UAAU,GAAGsB,CAAC,CAACE,MAAF,CAASC,KAA1B;;AACA,MAAG,CAACzB,UAAJ,EAAe;AACbuB,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA;AACD;;AACDzB,EAAAA,YAAY,CAACE,UAAD,EAAaC,QAAb,EAAuBsB,gBAAvB,CAAZ;AACD;;AAED,eAAe,YAAU;AACvB,SACE,oBAAC,UAAD,CAAY,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAA,QAAEA,gBAAF,QAAEA,gBAAF;AAAA,QAAoBtB,QAApB,QAAoBA,QAApB;AAAA,WACC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,iBAACqB,CAAD;AAAA,eAAOD,WAAW,CAACC,CAAD,EAAIC,gBAAJ,EAAsBtB,QAAtB,CAAlB;AAAA,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADD;AAAA,GADH,CADF;AAUD","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport {backgroundColor2, fontSize2} from \"../Shared/Styles\";\nimport {AppContext} from \"../App/AppProvider\";\nimport _ from 'lodash';\nimport fuzzy from 'fuzzy';\n\nconst SearchGrid = styled.div`\n  display: grid; \n  grid-template-columns: 200px 1fr; \n`\n\nconst SearchInput = styled.input`\n  ${backgroundColor2}\n  ${fontSize2}\n  border: 1px solid; \n  height: 25px; \n  color: #1163c9;\n  place-self: center left; \n`\n\nconst handleFilter = _.debounce((inputValue, coinList, setFilterCoins) => {\n  // Get all the coin symbols\n  let coinSymbols = Object.keys(coinList);\n  // Get all the coin names, map symbol to name\n  let coinNames = coinSymbols.map(sym => coinList[sym].CoinName)\n  let allStringsToSearch = coinSymbols.concat(coinNames);\n  let fuzzyResults = fuzzy\n    .filter(inputValue, allStringsToSearch, {})\n    .map(result => result.string);\n\n  let filteredCoins = _.pickBy(coinList, (result, symKey) => {\n    let coinName = result.CoinName;\n    return (_.includes(fuzzyResults, symKey) || _.includes(fuzzyResults, coinName));\n  });\n  setFilterCoins(filteredCoins);\n}, 500);\n\nfunction filterCoins(e, setFilteredCoins, coinList){\n  let inputValue = e.target.value;\n  if(!inputValue){\n    setFilteredCoins(null);\n    return;\n  }\n  handleFilter(inputValue, coinList, setFilteredCoins);\n}\n\nexport default function(){\n  return (\n    <AppContext.Consumer>\n      {({setFilteredCoins, coinList}) =>\n        <SearchGrid>\n          <h2>Search all coins</h2>\n          <SearchInput onKeyUp={(e) => filterCoins(e, setFilteredCoins, coinList)}/>\n        </SearchGrid>\n      }\n    </AppContext.Consumer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}